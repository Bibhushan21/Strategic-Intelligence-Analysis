<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strategic Intelligence Analysis - Challenges.one</title>
    <!-- Google Fonts for Company Typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;700&family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-lapis': '#166697',
                        'brand-kodama': '#E6F1FF', 
                        'brand-nickel': '#939393',
                        'brand-oxford': '#00264B',
                        'brand-pervenche': '#008CED',
                        'brand-white': '#ffffff'
                    },
                    fontFamily: {
                        'brand-black': ['Roboto', 'sans-serif'],
                        'brand-slab': ['Roboto Slab', 'serif'], 
                        'brand-regular': ['Roboto', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <link href="/static/css/home.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
        marked.setOptions({
            breaks: true,
            gfm: true,
            headerIds: true,
            mangle: false
        });
    </script>
</head>
<body class="bg-slate-50">
    <div id="root">
        <div class="min-h-screen bg-slate-100 text-slate-800">
            <!-- Header -->
            <header class="bg-brand-oxford text-white shadow-md">
                <div class="container mx-auto max-w-5xl px-4 py-6">
                    <div class="flex items-center justify-between">
                        <!-- Logo and Brand -->
                        <div class="flex items-center">
                            <img src="/static/Multiverz Logo.png" alt="Challenges.one Logo" class="h-10 mr-3">
                            <div>
                                <h1 class="text-2xl md:text-3xl font-brand-black font-black text-white">Challenges.one</h1>
                                <p class="text-sm text-brand-kodama">Strategic Intelligence Platform</p>
                            </div>
                        </div>
                        <!-- Navigation -->
                        <div class="hidden md:flex items-center space-x-6">
                            <a href="/history" class="text-brand-kodama hover:text-white transition duration-200 font-brand-regular flex items-center">
                                <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                History
                            </a>
                            {% if user %}
                                <div class="flex items-center space-x-4">
                                    <span class="text-brand-kodama font-brand-regular">{{ user.full_name or user.username }}</span>
                                    <form method="post" action="/logout" class="inline">
                                        <button type="submit" class="text-brand-kodama hover:text-white transition duration-200 font-brand-regular flex items-center">
                                            <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                                            </svg>
                                            Logout
                                        </button>
                                    </form>
                                </div>
                            {% else %}
                                <a href="/login" class="bg-brand-lapis text-white px-4 py-2 rounded-lg hover:bg-brand-pervenche transition duration-200 font-brand-regular">
                                    Login
                                </a>
                            {% endif %}
                        </div>
                        
                        <!-- Mobile menu button -->
                        <div class="md:hidden">
                            <button id="mobile-menu-button" class="text-brand-kodama hover:text-white focus:outline-none">
                                <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Mobile Menu (Hidden by default) -->
                    <div id="mobile-menu" class="md:hidden hidden mt-4 pb-4 border-t border-brand-kodama">
                        <div class="flex flex-col space-y-3 pt-4">
                            <a href="/history" class="text-brand-kodama hover:text-white font-brand-regular transition duration-200 flex items-center">
                                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                History
                            </a>
                            
                            {% if user %}
                                <div class="pt-3 border-t border-brand-kodama">
                                    <p class="text-brand-kodama font-brand-regular mb-3">{{ user.full_name or user.username }}</p>
                                    <form method="post" action="/logout">
                                        <button type="submit" class="text-brand-kodama hover:text-white font-brand-regular transition duration-200 flex items-center">
                                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                                            </svg>
                                            Logout
                                        </button>
                                    </form>
                                </div>
                            {% else %}
                                <a href="/login" class="bg-brand-lapis text-white px-4 py-2 rounded-lg hover:bg-brand-pervenche transition duration-200 font-brand-regular">
                                    Login
                                </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </header>

            <!-- Main Content -->
            <main class="container mx-auto max-w-5xl px-4 py-8">
                <!-- Search Section -->
                <section id="search-section" class="bg-white p-6 md:p-8 rounded-xl shadow-lg mb-8">
                    <h2 class="text-2xl font-bold text-slate-900 mb-2">Strategic Analysis Input</h2>
                    <p class="text-slate-600 mb-6">Enter your strategic question to receive comprehensive analysis from our AI agents. The complete analysis will take 2-3 minutes to process.</p>
                    
                    <!-- Analysis Form -->
                    <form id="analysisForm" class="space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-brand-oxford mb-2 font-brand-regular">Strategic Question</label>
                                <input type="text" 
                                       name="strategic_question" 
                                       id="strategic_question"
                                       placeholder="e.g., How can we improve digital transformation in healthcare?"
                                       class="w-full px-4 py-3 text-lg border-2 border-brand-nickel rounded-lg focus:ring-2 focus:ring-brand-lapis focus:border-brand-lapis outline-none transition duration-200 font-brand-regular"
                                       required>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-brand-oxford mb-2 font-brand-regular">Time Frame</label>
                                <input type="text" 
                                       name="time_frame" 
                                       id="time_frame"
                                       placeholder="e.g., Next 2-5 years"
                                       class="w-full px-4 py-3 text-lg border-2 border-brand-nickel rounded-lg focus:ring-2 focus:ring-brand-lapis focus:border-brand-lapis outline-none transition duration-200 font-brand-regular"
                                       required>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-brand-oxford mb-2 font-brand-regular">Region</label>
                                <input type="text" 
                                       name="region" 
                                       id="region"
                                       placeholder="e.g., North America, Global, Europe"
                                       class="w-full px-4 py-3 text-lg border-2 border-brand-nickel rounded-lg focus:ring-2 focus:ring-brand-lapis focus:border-brand-lapis outline-none transition duration-200 font-brand-regular"
                                       required>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-brand-oxford mb-2 font-brand-regular">Additional Context (Optional)</label>
                                <input type="text" 
                                       name="prompt" 
                                       id="prompt"
                                       placeholder="Any specific focus areas or requirements"
                                       class="w-full px-4 py-3 text-lg border-2 border-brand-nickel rounded-lg focus:ring-2 focus:ring-brand-lapis focus:border-brand-lapis outline-none transition duration-200 font-brand-regular">
                            </div>
                        </div>
                        
                        <div class="flex justify-center mt-6">
                            <button type="submit" 
                                    id="analyzeBtn"
                                    class="bg-brand-lapis text-white font-bold px-8 py-3 text-lg rounded-lg hover:bg-brand-oxford transition duration-200 disabled:bg-brand-nickel disabled:cursor-not-allowed flex items-center justify-center font-brand-black">
                                <span id="buttonText">Analyze Strategy</span>
                            </button>
                        </div>
                    </form>
                </section>

                <!-- Loading Section -->
                <section id="loading-section" class="bg-white p-6 md:p-8 rounded-xl shadow-lg mb-8 hidden">
                    <div class="text-center">
                        <div class="inline-flex items-center justify-center w-16 h-16 bg-brand-lapis rounded-full mb-4">
                            <svg class="w-8 h-8 text-white animate-spin" fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-brand-oxford mb-2 font-brand-slab">Analysis in Progress</h3>
                        <p class="text-brand-nickel font-brand-regular">Our AI agents are analyzing your strategic question. This will take approximately 2-3 minutes. Please wait...</p>
                        <div class="mt-4">
                            <div class="w-full bg-brand-kodama rounded-full h-2">
                                <div id="progressBar" class="bg-brand-lapis h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                            </div>
                            <p class="text-sm text-brand-nickel mt-2 font-brand-regular" id="progressText">Initializing analysis...</p>
                        </div>
                    </div>
                </section>

                <!-- Results Section -->
                <div id="resultsSection" class="space-y-6 hidden">
                    <!-- Executive Summary -->
                    <section class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
                        <h2 class="text-2xl font-bold text-brand-oxford border-b-2 border-brand-kodama pb-3 mb-4 font-brand-slab">Executive Summary</h2>
                        <div id="executiveSummary" class="section-content">
                            <div class="text-brand-nickel leading-relaxed font-brand-regular">Executive summary content will appear here...</div>
                        </div>
                    </section>

                    <!-- Problem Analysis -->
                    <section class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
                        <h2 class="text-2xl font-bold text-brand-oxford border-b-2 border-brand-kodama pb-3 mb-4 font-brand-slab">Problem Analysis</h2>
                        <div id="problemAnalysis" class="section-content">
                            <div class="text-brand-nickel leading-relaxed font-brand-regular">Problem analysis content will appear here...</div>
                        </div>
                    </section>

                    <!-- Best Practices -->
                    <section class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
                        <h2 class="text-2xl font-bold text-brand-oxford border-b-2 border-brand-kodama pb-3 mb-4 font-brand-slab">Best Practices & Proven Solutions</h2>
                        <div id="bestPractices" class="section-content">
                            <div class="text-brand-nickel leading-relaxed font-brand-regular">Best practices content will appear here...</div>
                        </div>
                    </section>

                    <!-- Future Trends -->
                    <section class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
                        <h2 class="text-2xl font-bold text-brand-oxford border-b-2 border-brand-kodama pb-3 mb-4 font-brand-slab">Future Trends & Opportunities</h2>
                        <div id="futureTrends" class="section-content">
                            <div class="text-brand-nickel leading-relaxed font-brand-regular">Future trends content will appear here...</div>
                        </div>
                    </section>

                    <!-- Scenario Analysis -->
                    <section class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
                        <h2 class="text-2xl font-bold text-brand-oxford border-b-2 border-brand-kodama pb-3 mb-4 font-brand-slab">Scenario Analysis</h2>
                        <div id="scenarioAnalysis" class="section-content">
                            <div class="text-brand-nickel leading-relaxed font-brand-regular">Scenario analysis content will appear here...</div>
                        </div>
                    </section>

                    <!-- Research Synthesis -->
                    <section class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
                        <h2 class="text-2xl font-bold text-brand-oxford border-b-2 border-brand-kodama pb-3 mb-4 font-brand-slab">Research Synthesis</h2>
                        <div id="researchSynthesis" class="section-content">
                            <div class="text-brand-nickel leading-relaxed font-brand-regular">Research synthesis content will appear here...</div>
                        </div>
                    </section>

                    <!-- Strategic Actions -->
                    <section class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
                        <h2 class="text-2xl font-bold text-brand-oxford border-b-2 border-brand-kodama pb-3 mb-4 font-brand-slab">Strategic Actions & Recommendations</h2>
                        <div id="strategicActions" class="section-content">
                            <div class="text-brand-nickel leading-relaxed font-brand-regular">Strategic actions content will appear here...</div>
                        </div>
                    </section>

                    <!-- High Impact Initiatives -->
                    <section class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
                        <h2 class="text-2xl font-bold text-brand-oxford border-b-2 border-brand-kodama pb-3 mb-4 font-brand-slab">High Impact Initiatives</h2>
                        <div id="highImpact" class="section-content">
                            <div class="text-brand-nickel leading-relaxed font-brand-regular">High impact initiatives content will appear here...</div>
                        </div>
                    </section>

                    <!-- Implementation Roadmap -->
                    <section class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
                        <h2 class="text-2xl font-bold text-brand-oxford border-b-2 border-brand-kodama pb-3 mb-4 font-brand-slab">Implementation Roadmap</h2>
                        <div id="implementationRoadmap" class="section-content">
                            <div class="text-brand-nickel leading-relaxed font-brand-regular">Implementation roadmap content will appear here...</div>
                        </div>
                    </section>

                    <!-- References & Sources -->
                    <section class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
                        <h2 class="text-2xl font-bold text-brand-oxford border-b-2 border-brand-kodama pb-3 mb-4 font-brand-slab">References & Sources</h2>
                        <div id="referencesSection" class="section-content">
                            <div class="text-brand-nickel leading-relaxed font-brand-regular">
                                <p class="mb-4 text-sm italic">Sources and references from Best Practices analysis:</p>
                                <div id="referencesList" class="space-y-3">
                                    <p class="text-sm text-brand-nickel italic">References will appear here after analysis...</p>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Export Options -->
                    <div class="text-center pt-6">
                        <button id="exportPdf" class="bg-brand-pervenche text-white font-bold px-6 py-2 rounded-lg hover:bg-brand-lapis transition duration-200 mx-2 font-brand-black">Export as PDF</button>
                        <button id="exportWord" class="bg-brand-lapis text-white font-bold px-6 py-2 rounded-lg hover:bg-brand-oxford transition duration-200 mx-2 font-brand-black">Export as Word</button>
                    </div>
                </div>
            </main>

            <!-- Footer -->

        </div>
    </div>

    <script src="/static/js/home.js"></script>
    
    <!-- Footer -->
    <footer class="text-center text-lg-start pt-4 bg-white border-t border-brand-kodama mt-16">
        <div class="container mx-auto max-w-5xl p-4">
            <div class="grid grid-cols-1 md:grid-cols-12 gap-6 mb-5">
                <div class="md:col-span-2 flex justify-center md:justify-start">
                    <img src="/static/Multiverz Logo.png" alt="Challenges.one Logo" class="h-16 w-auto">
                </div>
                <div class="md:col-span-10 md:border-l-2 md:border-brand-lapis md:pl-6">
                    <p class="mb-0 text-justify text-brand-nickel font-brand-regular text-sm leading-relaxed">
                        Challenges.one is a social impact-driven open innovation platform that harnesses collective intelligence to create meaningful change in people's lives. With a mission to positively impact at least 100,000 lives through each challenge featured on the platform, it empowers participants to think strategically about future solutions while making a tangible difference.
                    </p>
                </div>
            </div>
            <div class="flex flex-col md:flex-row md:items-center justify-between">
                <div class="mb-4 md:mb-0">
                    <ul class="flex flex-wrap justify-center md:justify-start gap-4 md:gap-8 mb-0 font-brand-regular">
                        <li><a href="/about-us" class="text-brand-nickel hover:text-brand-oxford transition duration-200 no-underline">About Us</a></li>
                        <li><a href="/contact-us" class="text-brand-nickel hover:text-brand-oxford transition duration-200 no-underline">Contact Us</a></li>
                        <li><a href="/terms-conditions" class="text-brand-nickel hover:text-brand-oxford transition duration-200 no-underline">Terms & Conditions</a></li>
                        <li><a href="/privacy-policy" class="text-brand-nickel hover:text-brand-oxford transition duration-200 no-underline">Privacy Policy</a></li>
                    </ul>
                </div>
            </div>
            <hr class="border-2 border-brand-lapis my-4">
            <div class="text-center">
                <p class="mb-0 text-brand-nickel font-brand-regular pb-5">Multiverz © 2025</p>
            </div>
        </div>
    </footer>

    <script>
        // Mobile menu functionality
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', function() {
                    const isHidden = mobileMenu.classList.contains('hidden');
                    
                    if (isHidden) {
                        mobileMenu.classList.remove('hidden');
                        // Change icon to X
                        mobileMenuButton.querySelector('svg').innerHTML = 
                            '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>';
                    } else {
                        mobileMenu.classList.add('hidden');
                        // Change icon back to hamburger
                        mobileMenuButton.querySelector('svg').innerHTML = 
                            '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>';
                    }
                });
                
                // Close mobile menu when clicking outside
                document.addEventListener('click', function(event) {
                    if (!mobileMenuButton.contains(event.target) && !mobileMenu.contains(event.target)) {
                        mobileMenu.classList.add('hidden');
                        mobileMenuButton.querySelector('svg').innerHTML = 
                            '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>';
                    }
                });
            }
        });
    </script>
</body>
</html> 